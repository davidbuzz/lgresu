language: go

env:
  - secure: "Ok3RNguO3Ar1ItaLMS5XwOfPFwUcgdpyUwQAejvf/4NFCEm9xTsaMxS7xQaKJ5LZ+leS9ulgFbITqY+r2kdPhjWI/SUsP15KtDWnaIqrVjahuTYkGmK2N72VvmNXX3nGj6PUBjTb7/IMJWraPI/iKF2t39NfQCiBLTP9V66wiReB6P2R8NlP9BuXzwtOktwkaZc/yKy01xXlz+ZbpoLfYpg0+RH94aN9g4E7467D01KLgwSsiP3FsPcKEYmlG9AuxzRNeKdTGZiVJqj96VFdBYgLiLFQnlEF/avBeyPP/Nz8vJFJRJQuX0yW7gyKA2pUCqfPVogRbwp3WexJHOlTOCC65fxl/N7x9w94muTFEjjZ9ALz+xPToVSiNkw/zYTdqTAJP04AKGDsvmGZMqPPuK8wLqUzVMkQmfYmLLYBlzNHhLsinZBFYtqnL95NJ/SLGvVfIJuJ3HzMM2LGvt+0LWgVFNymx3atap3kPhjEUVs/9+FBNcu1gRAjttQg6evYJmSMw3Iijr6riJgVPTMjTJWGVUchCLmO9hVefxfvAysbUxyajaKCYBtYq+jBDkAnGQ4ztq5aL1W0b3CXSs2YlVRMoKEmznzCWJXIMR3IFbtaeHEoeky/mqzkCF3vX2JfLHQ+VL9OQokdnC1Ammds3SwuXLku9+PIzl9rXzhxziI="

go:
  - 1.10.x

before_install:
  - go get github.com/sirupsen/logrus
  - go get github.com/brutella/can
  - go get github.com/google/go-cmp/cmp
  - go get github.com/gorilla/mux
  - go get golang.org/x/tools/cmd/cover
  - go get github.com/mattn/goveralls

script:
  - go test -v -covermode=count -coverprofile=coverage.out ./...
  - $HOME/gopath/bin/goveralls -coverprofile=coverage.out -service=travis-ci -repotoken $COVERALLS_TOKEN
  - make install
